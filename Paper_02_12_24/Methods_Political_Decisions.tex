% Political Decisions
\subsection{Budgetary Decision Thresholds and Corresponding Metrics}
\label{political_decisions}

Saying that we trade off lives for money makes us uncomfortable, but that is what governments do when they set budgets for health care and emergency services.  All budgets are finite, and spending more money has diminishing returns, so we have to choose some criteria for our decision and accompanying metrics that let us quantify the criteria to choose an appropriate decision boundary for our recommendation system.  

Our Springfield scenario illustrates the tradeoffs.  We consider three ways to set the decision threshold.  

\begin{figure}[h]
	\input{Springfield_After_Figure}
\caption{\normalfont\normalsize Springfield after implementing immediate dispatch of ambulances.  Figure accompanies \S\ref{intro_scenario}}
\label{methods_springfield_after}
\end{figure}

\FloatBarrier




%%%%%
\subsubsection{Budgetary Decision Metric I:  Percent Increased Number of Ambulance Calls}
\label{political_decisions_percent_increased}

When a city or region implements immediate dispatch of ambulances, the number of ambulance dispatches increases by FP.   Within the automated notifications, 
$\text{P} = \text{FN} + \text{TP}$
 ambulance runs becomes P + FP = FN + TP + FP ambulance runs, an increase by a rate of $\text{FP}/\text{P}$.  The increase does not include the true positives (TP), because those ambulances would go eventually with or without immediate dispatch; the increase is the number of false positives (FP).  
 
In the short term (too short to buy more ambulances and hire more teams), the existing budget can support an increase in the number of ambulance runs to crash persons by some small percentage.  In the longer term, the city is willing to increase the budget to increase the number of ambulances going to crashes with automated notifications by a larger, but still fixed, percentage.  We use 5\% as our example of how to implement this policy, setting the decision threshold $\theta$ where the number of false positives is 5\% of the positive class, giving our first budgetary decision metric,

\begin{equation} \label{eq:budget_1}\hfil
\frac{ \text{FP}}{\text{P}}
=
\frac{ \text{FP}}{\text{FN} + \text{TP}}
\le 0.05
\end{equation}

 In our Springfield scenario, scaling to 100 currently sent ambulances to crash or non-crash, the total number of ambulance runs goes from 100 to 100 + FP, a rate of increase of $\text{FP}/100$.  For any city or region, if we knew the proportion of crashes with automated notifications from cell phones and the proportion of ambulances going to crashes, we could choose an
 $\text{FP}/\text{P}$
 threshold to match a budgetary decision criterion based on the increase in total number of ambulances sent to crashes or total number of ambulances sent to any situation.


%%%%%
\subsubsection{Budgetary Decision Metric II:  Percent of Immediately Dispatched Ambulances Actually Needed}
\label{political_decisions_precision}

A city or region is willing to immediately dispatch ambulances based on automated crash reports, but only up to the point where a certain proportion of the ambulances they immediately dispatch 
$(\text{PP} = \text{FP} + \text{TP})$ 
are actually needed (TP).  This proportion, 
$\text{TP}/(\text{FP} + \text{TP})$ 
is called the {\it precision} of a machine learning model.  In this paper we use the term {\it precision} in this sense and {\it numerical precision} to describe the confidence we can have in a certain number of decimal places of a result.

To illustrate the method, we choose $\text{Precision} = 2/3$, being willing to immediately dispatch one unnecessary ambulance for each two necessary ones, giving our second budgetary decision metric,

\begin{equation} \label{eq:budget_2}\hfil
\frac{ \text{TP}}{\text{PP}}
=
\frac{ \text{TP}}{\text{FP} + \text{TP}}
\ge \frac{2}{3}
\end{equation}

%%%%%
\subsubsection{Budgetary Decision Metric III:  Minimum Probability that Each Immediately Dispatched Ambulance is Needed}
\label{political_decisions_probability}

The previous two decision criteria let the city leaders choose a specific dollar amount of increase in the annual ambulance budget, but for ethical reasons they may decide that, while they cannot afford to immediately dispatch an ambulance to every crash notification, they should immediately dispatch an ambulance to a crash notification with some probability (like 50\% or 80\%) of needing medical attention, and consider the total cost later.  From our model results, can we find a decision threshold $\theta$ that corresponds to such a probability?

Our recommendation system uses a supervised-learning binary classification model trained on historical data. The models do not actually return a probability but return, for each sample, a value $p$ that generally increases with the probability.  For each sample we also know whether that historical crash person actually needed an ambulance (whether that sample is in the negative or positive class).  

Consider a small band of values of $p$; the samples in that band are either in the negative or positive class.  Call the number of negative and positive samples in the band Neg and Pos, to distinguish from the total number of samples in the negative and positive classes, N and P.  The probability that a crash person in that band of $p$ needs an ambulance is given by 
$\text{Pos}/(\text{Neg} + \text{Pos})$, which we call ``marginal probability,'' or ``$m$Prob.''

To illustrate the method, we choose the minimum marginal probability to be 50\%, meaning that each ambulance we immediately dispatch has at least a fifty percent chance of being needed, giving our third budgetary decision metric,

\begin{equation} \label{eq:budget_3}\hfil
m\text{Prob} =  \frac{\text{Pos}}{\text{Neg}+\text{Pos}} \ge 0.5
\end{equation}


We can relate this metric to a familiar metric if we rephrase the probability as the ratio of needed to unneeded ambulances immediately dispatched, {\it i.e.} Pos:Neg.  For instance, a 50\% probability is a 1:1 ratio of needed to unneeded, and an 80\% probability is a 4:1 ratio of needed to unneeded.  
The proportion of needed to unneeded ambulances sent in a neighborhood of $p$ is proportional to a widely used metric, the slope of the ROC curve, with the constant of proportionality being the class ratio, as shown here:  

\begin{equation} \label{eq:ROC_slope}\hfil
\frac{\text{Pos}}{\text{Neg}}
=\frac{\Delta\text{TP}}{\Delta \text{FP}}
=\frac{\text{P}}{\text{N}} \cdot \frac{\Delta\text{TP}/\text{P}}{\Delta \text{FP}/\text{N}} 
=\frac{\text{P}}{\text{N}} \cdot \frac{\Delta\text{TPR}}{\Delta \text{FPR}}
=\frac{\text{P}}{\text{N}} \cdot m\text{ROC}
\end{equation}

